<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë‰´ìŠ¤ ê²€ìƒ‰</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}" />
</head>
<body>
    <!-- ê²€ìƒ‰ ë°” -->
    <form class="find-search-bar-form" action="/search" method="get">
        <div class="search-container">
            <input type="text" id="search-input" name="keyword" class="find-search-bar"
                   placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" value="{{ keyword or '' }}" />
            <ul id="suggestion-box" class="suggestions"></ul>                
            <span class="material-icons-outlined">search</span>
        </div>
        {% if selected_category %}
            <input type="hidden" name="category" value="{{ selected_category }}">
        {% endif %}
    </form>

    
    <!-- ì¹´í…Œê³ ë¦¬ ë°” -->
    <div class="category-bar">
        <div class="category-buttons">
            {% for category_name in ['ìŠ¤í¬ì¸ ', 'ì—°ì˜ˆ', 'ê²½ì œ', 'IT', 'ì‚¬íšŒ', 'ìƒí™œë¬¸í™”'] %}
                <a href="{{ url_for('search', category=category_name, keyword=keyword) }}"
                class="category-button {% if selected_category == category_name %}active{% endif %}">
                    <div class="icon">{{ icon }}</div>
                    <div class="label">{{ category_name }}</div>
                </a>
            {% endfor %}
        </div>
    </div>



    <!-- ë‰´ìŠ¤ í•­ëª© í‘œì‹œ -->
    <div class="articles-container">
        {% if news_items %}
            {% for news in news_items %}
                <div class="article-card">
                    <h3>{{ news.title }}</h3>
                    <p><strong>ë‚ ì§œ:</strong> {{ news.date }}</p>
                    <p><strong>ì¶œì²˜:</strong> {{ news.company }}</p>
                    <p><strong>í‚¤ì›Œë“œ:</strong> {{ news.keyword }}</p>
                    <img class="wordcloud_images" src="{{ url_for('static', filename='wordcloud_images/' + news.wordcloud_image) }}" alt="Word Cloud">
                    <a href="{{ news.url }}" target="_blank">ì›ë¬¸ ê¸°ì‚¬ ë³´ê¸°</a>
                    <form action="{{ url_for('bookmark', news_id=news.id) }}" method="post" style="display:inline;">
                        <button type="submit" class="bookmark-button" style="background: none; border: none; font-size: 1.5rem;">
                            {% if news.id in bookmarked_news_ids %}
                                â¤ï¸
                            {% else %}
                                ğŸ¤
                            {% endif %}
                        </button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <p>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        {% endif %}
    </div>

    
    <!-- ë‚´ë¹„ê²Œì´ì…˜ ë°” -->
    <div class="navigation-bar">
        <a href="/">
            <span class="material-symbols-outlined">home</span>
            <p>í™ˆ</p>
        </a>
        <a href="/search">
            <span class="material-symbols-outlined">quick_reference_all</span>
            <p>ì „ì²´ê¸°ì‚¬</p>
        </a>
        <a href="/my_bookmarks">
            <span class="material-icons">favorite</span>
            <p>ì¦ê²¨ì°¾ê¸°</p>
        </a>
        <!-- Flask ì˜ˆì‹œ -->
        {% if session.logged_in %}
        <a href="/logout">
            <span class="material-icons">logout</span>
            <p>ë¡œê·¸ì•„ì›ƒ</p>
        </a>
        {% else %}
        <a href="/login">
            <span class="material-icons">person</span>
            <p>ë¡œê·¸ì¸</p>
        </a>
        {% endif %}

    </div>


    <script src="{{ url_for('static', filename='js/suggestions.js') }}"></script>
</body>
</html>





